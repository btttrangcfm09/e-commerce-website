{
    log {
        level INFO
        output stdout
    }
}

:80 {
    root * /usr/share/caddy
    
    # Đảm bảo MIME types đúng
    encode gzip
    
    file_server {
        mime_types {
            .html text/html
            .css text/css
            .js application/javascript
            .mjs application/javascript
            .json application/json
            .svg image/svg+xml
            .ico image/x-icon
            .png image/png
            .jpg image/jpeg
            .woff2 font/woff2
            .woff font/woff
            .ttf font/ttf
        }
    }
    
    # SPA support - đơn giản
    try_files {path} {path}/ /index.html
    
    # Cache static assets
    header /assets/* {
        Cache-Control "public, max-age=31536000, immutable"
    }
}